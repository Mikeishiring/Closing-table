import{j as e,r as a,P as I,E as v,p as L,L as m,f as P}from"./index-BbD2jQxV.js";import{u as T,c as M,g as E,V as F,P as O,S as V}from"./offers-C4BY2bAa.js";import{P as A,a as W}from"./client-BhLJ3e7R.js";function $({title:t,items:o=[],className:s=""}){return e.jsxs("aside",{className:`secondary-info ${s}`,children:[t?e.jsx("p",{className:"secondary-info__title",children:t}):null,o.length?e.jsx("ul",{className:"secondary-info__list",children:o.map(n=>e.jsxs("li",{className:"secondary-info__item",children:[e.jsx("span",{className:"secondary-info__icon",children:"‚úì"}),e.jsx("span",{children:n})]},n))}):null]})}function B(t){return e.jsx($,{...t})}async function H(t){if(!(typeof window<"u"?window.isSecureContext||window.location.hostname==="localhost":!0))return{success:!1,error:"Clipboard unavailable in insecure context"};if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(t),{success:!0}}catch{}try{const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select();const n=document.execCommand("copy");return document.body.removeChild(s),{success:n}}catch(s){return{success:!1,error:s.message}}}function X(){const[t,o]=a.useState(12e4),[s,n]=a.useState("120,000"),[i,h]=a.useState(null),[d,p]=a.useState(!1),[k,f]=a.useState(!1),[b,u]=a.useState(!1),[j,c]=a.useState(""),{enable:y,disable:g}=T(),x=a.useMemo(()=>I.companyLink.replace("24 hours",`${v.offerHours} hours`),[]),w=a.useCallback(()=>{h(null),o(12e4),n("120,000"),c("")},[]),N=a.useCallback(async()=>{if(!d)try{p(!0),c("");const r=await M({max:t}),l=E(r.offerId);h(l)}catch(r){c(r.message||"We could not create this offer. Please retry.")}finally{p(!1)}},[d,t]),C=a.useCallback(async()=>{if(!i)return;(await H(i)).success&&(f(!0),setTimeout(()=>f(!1),2e3))},[i]),S=a.useCallback(r=>{const{value:l,display:_}=L(r,m);n(_),o(l),c("")},[]);return i?e.jsx(A,{className:"animate-[cardIn_280ms_ease-out]","data-focus-mode":b,children:e.jsxs("div",{className:"card-flow",children:[e.jsxs("header",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-3xl bg-gradient-to-br from-emerald-400 via-cyan-400 to-sky-500 text-white shadow-[0_20px_40px_-12px_rgba(14,165,233,0.55)] animate-[emojiPop_260ms_ease-out]",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"white",strokeWidth:"2.4",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900",children:"Link ready"}),e.jsx("p",{className:"text-base text-slate-600 max-w-sm",children:`${x} This is the handshake‚Äîkeep it handy.`})]}),e.jsx("main",{className:"space-y-4",children:e.jsxs("section",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Shareable link"}),e.jsxs("div",{className:"relative flex items-center rounded-2xl bg-slate-50 border border-slate-200 px-4 py-3 text-xs md:text-sm text-slate-800 font-mono",children:[e.jsx("span",{className:"break-all pr-12",children:i}),e.jsxs("button",{onClick:C,className:"absolute right-2 inline-flex items-center gap-1 rounded-xl px-3 py-2 text-xs font-semibold text-slate-700 bg-white border border-slate-200 shadow-sm hover:bg-slate-100 transition",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",strokeWidth:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",strokeWidth:"2"})]}),k?"Copied":"Copy link"]})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Preview it or drop it in a note. The candidate only sees the final outcome."})]})}),e.jsxs("div",{className:"flex flex-col gap-3 focus-priority",children:[e.jsx("button",{onClick:()=>window.open(i,"_blank","noopener"),className:"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-semibold hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]",children:"Open link"}),e.jsx("button",{onClick:w,className:"w-full text-sm font-semibold text-slate-700 hover:underline py-2",children:"New offer"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-[12px] text-slate-500",children:[e.jsx("span",{children:"üîê"}),e.jsx("span",{children:x})]})]})}):e.jsxs("div",{className:"page-grid",children:[e.jsx(W,{className:"animate-[cardIn_280ms_ease-out]",title:"Set your ceiling. Share one private link.",subtitle:`One-time link. Expires in ${v.offerHours} hours.`,"data-focus-mode":b,children:e.jsxs("div",{className:"card-flow",children:[e.jsx(F,{label:"Maximum total compensation",inputValue:s,placeholder:"120,000",onInputChange:S,onFocus:()=>{u(!0),y()},onBlur:()=>{u(!1),g()}}),e.jsx(O,{label:"Adjust maximum total compensation",value:t,min:m.TOTAL_MIN,max:m.TOTAL_MAX,step:5e3,onChange:r=>{const l=Number(r.target.value);o(l),n(P(l)),c("")},variant:"company",enableSnapPoints:!1,thumbEmoji:null,onDragStart:()=>{u(!0),y()},onDragEnd:()=>{u(!1),g()}}),e.jsx("section",{className:"card-block card-block--cta",children:e.jsxs("div",{className:"cta-stack",children:[e.jsx(V,{text:"Slide to Lock Offer",onConfirm:N,loading:d,disabled:d}),j?e.jsxs("p",{className:"cta-error",role:"alert","aria-live":"polite",children:[e.jsx("span",{"aria-hidden":"true",children:"‚ö†Ô∏è"}),e.jsx("span",{children:j})]}):e.jsxs("div",{className:"privacy-note","aria-live":"polite",children:[e.jsx("span",{children:"üîê"}),e.jsx("span",{children:x})]})]})})]})}),e.jsx(B,{title:"For hiring teams",items:["Set a ceiling without revealing it.","Share one link that auto-expires."]})]})}export{X as CompanyView};
//# sourceMappingURL=CompanyView-C6s80n-x.js.map
