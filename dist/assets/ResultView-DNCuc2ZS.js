import{r as i,j as e,g as x,R as f}from"./index-DncJgOrx.js";import{b as m,a as u}from"./client-CZUYQNwL.js";async function h(a,s={}){return m(`/api/results/${a}`,s)}function p({resultId:a}){const[s,c]=i.useState(null),[o,r]=i.useState(!0),[n,l]=i.useState(null);return i.useEffect(()=>{async function d(){try{r(!0);const t=await h(a);if(!t){l("We couldn’t find this result.");return}if(t.status==="invalid"){l("This link doesn’t look right.");return}if(t.status==="expired"){l("This result has expired.");return}c(t)}catch(t){l(t.message||"We couldn’t load this result.")}finally{r(!1)}}d()},[a]),o?e.jsx(u,{className:"space-y-6 animate-[cardIn_280ms_ease-out]",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/3 mx-auto"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-2/3 mx-auto"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full w-full"})]}),e.jsx("div",{className:"h-12 bg-slate-200 rounded-full w-full"})]})}):n?e.jsxs(u,{className:"space-y-6 text-center animate-[cardIn_280ms_ease-out]",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-slate-50 ring-4 ring-rose-100 text-4xl text-rose-600 animate-[emojiPop_260ms_ease-out]",children:e.jsx("span",{children:"⚠️"})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-slate-900",children:"We couldn’t show this result."}),e.jsx("p",{className:"text-slate-600",children:n})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx("button",{onClick:x,className:"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-medium hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]",children:"Go to home"})})]}):s?e.jsx(f,{status:s.status,finalOffer:s.final,suggested:s.suggested}):null}export{p as ResultView};
//# sourceMappingURL=ResultView-DNCuc2ZS.js.map
