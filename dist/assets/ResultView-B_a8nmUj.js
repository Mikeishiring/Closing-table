import{r as l,j as e}from"./index-D4B_nToJ.js";import{d as f}from"./api-3RAAH5mw.js";import{R as x}from"./ResultCard-Cc0DAtfA.js";function p({resultId:n}){const[t,u]=l.useState(null),[c,i]=l.useState(!0),[o,r]=l.useState(null);if(l.useEffect(()=>{async function d(){try{i(!0);const s=await f(n);if(!s){r("Result not found");return}if(s.status==="invalid"){r("Invalid result link");return}if(s.status==="expired"){r("Result has expired");return}u(s)}catch(s){r(s.message||"Failed to load result")}finally{i(!1)}}d()},[n]),c)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-slate-900 mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading result..."})]})});if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl p-8 shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Oops"}),e.jsx("p",{className:"text-slate-600 mb-6",children:o}),e.jsx("button",{onClick:()=>window.location.hash="",className:"bg-slate-900 text-white py-2 px-6 rounded-lg font-medium hover:bg-slate-800 transition-colors",children:"Go to home"})]})});if(!t)return null;let a=null;return t.status==="close"&&t.suggested?a=8:t.status==="fail"&&(a=15),e.jsx(x,{status:t.status,finalOffer:t.final,suggested:t.suggested,gapPercent:a,resultId:n})}export{p as ResultView};
//# sourceMappingURL=ResultView-B_a8nmUj.js.map
