import{j as e,r as s,p as P,c as a,L as h,f as F}from"./index-KV9ASIHf.js";import{u as W,c as E,g as V,V as B,P as O,S as A}from"./offers-CFTgBBUv.js";import{P as $,a as D}from"./client-DjLAMc_R.js";function H({title:n,items:o=[],className:t=""}){return e.jsxs("aside",{className:`secondary-info ${t}`,children:[n?e.jsx("p",{className:"secondary-info__title",children:n}):null,o.length?e.jsx("ul",{className:"secondary-info__list",children:o.map(l=>e.jsxs("li",{className:"secondary-info__item",children:[e.jsx("span",{className:"secondary-info__icon",children:"✓"}),e.jsx("span",{children:l})]},l))}):null]})}function X(n){return e.jsx(H,{...n})}async function C(n){if(!(typeof window<"u"?window.isSecureContext||window.location.hostname==="localhost":!0))return{success:!1,error:"Clipboard unavailable in insecure context"};if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(n),{success:!0}}catch{}try{const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();const l=document.execCommand("copy");return document.body.removeChild(t),{success:l}}catch(t){return{success:!1,error:t.message}}}function G(){const[n,o]=s.useState(12e4),[t,l]=s.useState("120,000"),[c,f]=s.useState(null),[d,y]=s.useState(null),[m,b]=s.useState(!1),[S,j]=s.useState(!1),[_,k]=s.useState(!1),[g,x]=s.useState(!1),[w,u]=s.useState(""),{enable:v,disable:N}=W(),L=s.useCallback(()=>{f(null),y(null),o(12e4),l("120,000"),u("")},[]),I=s.useCallback(async()=>{if(!m)try{b(!0),u("");const r=await E({max:n}),i=V(r.offerId),p=`${window.location.origin}${window.location.pathname}#result=${r.resultId}`;f(i),y(p)}catch(r){u(r.message||"We could not create this offer. Please retry.")}finally{b(!1)}},[m,n]),T=s.useCallback(async()=>{if(!c)return;(await C(c)).success&&(j(!0),setTimeout(()=>j(!1),2e3))},[c]),M=s.useCallback(async()=>{if(!d)return;(await C(d)).success&&(k(!0),setTimeout(()=>k(!1),2e3))},[d]),R=s.useCallback(r=>{const{value:i,display:p}=P(r,h);l(p),o(i),u("")},[]);return c?e.jsx($,{className:"animate-[cardIn_280ms_ease-out]","data-focus-mode":g,children:e.jsxs("div",{className:"card-flow",children:[e.jsxs("header",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-3xl bg-gradient-to-br from-emerald-400 via-cyan-400 to-sky-500 text-white shadow-[0_20px_40px_-12px_rgba(14,165,233,0.55)] animate-[emojiPop_260ms_ease-out]",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:e.jsx("path",{d:"M5 13l4 4L19 7",stroke:"white",strokeWidth:"2.4",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900",children:a.company.linkReady.headline}),e.jsx("p",{className:"text-base text-slate-600 max-w-sm",children:"Send the candidate link below. Bookmark your result link to watch for updates."})]}),e.jsxs("main",{className:"space-y-6",children:[e.jsxs("section",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold",children:"Candidate Link (Send this)"}),e.jsxs("div",{className:"relative flex items-center rounded-2xl bg-slate-50 border border-slate-200 px-4 py-3 text-xs md:text-sm text-slate-800 font-mono",children:[e.jsx("span",{className:"break-all pr-12",children:c}),e.jsxs("button",{onClick:T,className:"absolute right-2 inline-flex items-center gap-1 rounded-xl px-3 py-2 text-xs font-semibold text-slate-700 bg-white border border-slate-200 shadow-sm hover:bg-slate-100 transition",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",strokeWidth:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",strokeWidth:"2"})]}),S?"Copied!":"Copy"]})]}),e.jsx("p",{className:"text-sm text-slate-500",children:a.company.linkReady.explanation})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500 font-semibold",children:"Your Result Link (Bookmark this)"}),e.jsxs("div",{className:"relative flex items-center rounded-2xl bg-emerald-50 border border-emerald-200 px-4 py-3 text-xs md:text-sm text-slate-800 font-mono",children:[e.jsx("span",{className:"break-all pr-12",children:d}),e.jsxs("button",{onClick:M,className:"absolute right-2 inline-flex items-center gap-1 rounded-xl px-3 py-2 text-xs font-semibold text-emerald-700 bg-white border border-emerald-200 shadow-sm hover:bg-emerald-50 transition",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",strokeWidth:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",strokeWidth:"2"})]}),_?"Copied!":"Copy"]})]}),e.jsx("p",{className:"text-sm text-slate-500",children:'Visit this link anytime to see if the candidate has responded. It starts as "pending" and updates when they submit.'})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 focus-priority",children:[e.jsx("button",{onClick:()=>window.open(d,"_blank","noopener"),className:"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-semibold hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]",children:"Open Result Link"}),e.jsx("button",{onClick:L,className:"w-full text-sm font-semibold text-slate-700 hover:underline py-2",children:a.company.linkReady.createNew})]}),e.jsx("div",{className:"flex items-center justify-center gap-2 text-[12px] text-slate-500",children:e.jsx("span",{children:a.company.linkReady.expiryNote})})]})}):e.jsxs("div",{className:"page-grid",children:[e.jsx(D,{className:"animate-[cardIn_280ms_ease-out]",title:a.company.title,subtitle:a.company.subtitle,"data-focus-mode":g,children:e.jsxs("div",{className:"card-flow",children:[e.jsx(B,{label:a.company.form.label,inputValue:t,placeholder:"120,000",onInputChange:R,onFocus:()=>{x(!0),v()},onBlur:()=>{x(!1),N()}}),e.jsx(O,{label:a.company.form.inputAria,value:n,min:h.TOTAL_MIN,max:h.TOTAL_MAX,step:5e3,onChange:r=>{const i=Number(r.target.value);o(i),l(F(i)),u("")},variant:"company",enableSnapPoints:!1,thumbEmoji:null,onDragStart:()=>{x(!0),v()},onDragEnd:()=>{x(!1),N()}}),e.jsx("section",{className:"card-block card-block--cta",children:e.jsxs("div",{className:"cta-stack",children:[e.jsx(A,{text:a.company.form.cta,onConfirm:I,loading:m,disabled:m}),w?e.jsxs("p",{className:"cta-error",role:"alert","aria-live":"polite",children:[e.jsx("span",{"aria-hidden":"true",children:"⚠️"}),e.jsx("span",{children:w})]}):e.jsx("div",{className:"privacy-note","aria-live":"polite",children:e.jsx("span",{children:a.company.privacyNote})})]})})]})}),e.jsx(X,{title:a.company.howItWorks.title,items:a.company.howItWorks.steps})]})}export{G as CompanyView};
//# sourceMappingURL=CompanyView-BjQszRld.js.map
