{"version":3,"file":"CompanyView-swam7l6E.js","sources":["../../src/views/CompanyView.jsx"],"sourcesContent":["/**\r\n * Company View\r\n * Where companies set their maximum offer\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { SignatureSlider } from '../components/SignatureSlider';\r\nimport { AnimatedSubmitButton } from '../components/AnimatedSubmitButton';\r\nimport { createOffer, generateOfferLink, copyToClipboard } from '../lib/api';\r\nimport { formatCurrency } from '../lib/deal-math';\r\n\r\nexport function CompanyView() {\r\n  const [baseMax, setBaseMax] = useState(120000);\r\n  const [equityMax, setEquityMax] = useState(30000);\r\n  const [equityEnabled, setEquityEnabled] = useState(true);\r\n  const [offerLink, setOfferLink] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const totalMax = baseMax + (equityEnabled ? equityMax : 0);\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await createOffer({\r\n        companyBaseMax: baseMax,\r\n        companyEquityMax: equityEnabled ? equityMax : 0,\r\n        equityEnabled,\r\n      });\r\n      \r\n      const link = generateOfferLink(response.offerId);\r\n      setOfferLink(link);\r\n    } catch (error) {\r\n      alert('Error creating offer: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = async () => {\r\n    const result = await copyToClipboard(offerLink);\r\n    if (result.success) {\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    }\r\n  };\r\n\r\n  if (offerLink) {\r\n    return (\r\n      <div className=\"bg-white rounded-3xl shadow-xl p-6 md:p-8 animate-[cardIn_280ms_ease-out]\">\r\n        \r\n        {/* Hero: Big emoji + headline */}\r\n        <header className=\"flex flex-col items-center text-center\">\r\n          <div className=\"mb-4 flex h-16 w-16 md:h-18 md:w-18 items-center justify-center rounded-full bg-slate-50 ring-4 ring-emerald-100 text-4xl md:text-5xl text-emerald-600 animate-[emojiPop_260ms_ease-out]\">\r\n            <span>üîó</span>\r\n          </div>\r\n          \r\n          <h1 className=\"text-2xl md:text-3xl font-semibold text-slate-900\">\r\n            Offer Created\r\n          </h1>\r\n          \r\n          <p className=\"mt-2 text-sm md:text-base text-slate-600 max-w-sm\">\r\n            Share this link with your candidate. It works once and expires in 24 hours.\r\n          </p>\r\n        </header>\r\n\r\n        {/* Details: The link */}\r\n        <main className=\"mt-6 space-y-4\">\r\n          <section className=\"text-center\">\r\n            <p className=\"text-xs uppercase tracking-[0.18em] text-slate-500 mb-3\">\r\n              Shareable Link\r\n            </p>\r\n            <div className=\"rounded-2xl bg-slate-50 px-4 py-3 text-xs md:text-sm text-slate-700 break-all font-mono border border-slate-200\">\r\n              {offerLink}\r\n            </div>\r\n            <p className=\"mt-2 text-xs text-slate-500\">\r\n              Click below to copy this link to your clipboard\r\n            </p>\r\n          </section>\r\n        </main>\r\n\r\n        {/* Actions: Buttons */}\r\n        <div className=\"mt-6 flex flex-col gap-3\">\r\n          <button\r\n            onClick={handleCopyLink}\r\n            className=\"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-medium hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\r\n          >\r\n            {copied ? 'Copied ‚úì' : 'Copy Link'}\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => {\r\n              setOfferLink(null);\r\n              setBaseMax(120000);\r\n              setEquityMax(30000);\r\n            }}\r\n            className=\"w-full rounded-full border border-slate-200 py-3 text-sm text-slate-700 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\r\n          >\r\n            Create Another Offer üîÅ\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Privacy hint */}\r\n        <div className=\"mt-4 flex items-center justify-center gap-2 text-[11px] text-slate-500\">\r\n          <span>üîê</span>\r\n          <span>Your maximum stays private until the mechanism runs</span>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-3xl p-6 md:p-8 shadow-xl animate-[cardIn_280ms_ease-out]\">\r\n      <div className=\"inline-flex items-center justify-center px-3 py-1 mb-3 rounded-full bg-[#E6F9FA] text-xs font-medium text-[#007C80]\">\r\n        Company view\r\n      </div>\r\n      <h2 className=\"text-2xl font-semibold mb-2\">Company View</h2>\r\n      <p className=\"text-slate-600 mb-2\">\r\n        Set your maximum offer. The candidate will never see this number.\r\n      </p>\r\n\r\n      {/* Privacy note */}\r\n      <div className=\"mb-6 inline-flex items-center gap-2 text-sm text-[#555]\">\r\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n          <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n        <span>We only show the final number, never your inputs.</span>\r\n      </div>\r\n\r\n      <div className=\"space-y-6 mb-8\">\r\n        {/* Base Salary */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n            Maximum Base Salary\r\n          </label>\r\n          <div className=\"text-3xl font-bold mb-4\">\r\n            {formatCurrency(baseMax)}\r\n          </div>\r\n          <SignatureSlider\r\n            value={baseMax}\r\n            min={50000}\r\n            max={300000}\r\n            step={5000}\r\n            onChange={(e) => setBaseMax(Number(e.target.value))}\r\n            variant=\"company\"\r\n            label=\"Company maximum base\"\r\n          />\r\n        </div>\r\n\r\n        {/* Equity Toggle */}\r\n        <div className=\"flex items-center justify-between py-4 border-t border-slate-200\">\r\n          <div>\r\n            <label className=\"font-medium text-slate-900\">Include Equity?</label>\r\n            <p className=\"text-sm text-slate-500\">Add equity component to the offer</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setEquityEnabled(!equityEnabled)}\r\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n              equityEnabled ? 'bg-emerald-500' : 'bg-slate-300'\r\n            }`}\r\n          >\r\n            <span\r\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                equityEnabled ? 'translate-x-6' : 'translate-x-1'\r\n              }`}\r\n            />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Equity */}\r\n        {equityEnabled && (\r\n          <div className=\"animate-slideDown\">\r\n            <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n              Maximum Equity (Annual Value)\r\n            </label>\r\n            <div className=\"text-3xl font-bold mb-4\">\r\n              {formatCurrency(equityMax)}\r\n            </div>\r\n            <SignatureSlider\r\n              value={equityMax}\r\n              min={0}\r\n              max={200000}\r\n              step={5000}\r\n              onChange={(e) => setEquityMax(Number(e.target.value))}\r\n              variant=\"company\"\r\n              label=\"Company maximum equity\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Total */}\r\n        <div className=\"pt-4 border-t border-slate-200\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <span className=\"text-sm font-medium text-slate-700\">Total Maximum</span>\r\n            <span className=\"text-2xl font-bold text-slate-900\">{formatCurrency(totalMax)}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <AnimatedSubmitButton\r\n        onClick={handleSubmit}\r\n        buttonText=\"Lock it in & Get Link\"\r\n        disabled={loading}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["CompanyView","baseMax","setBaseMax","useState","equityMax","setEquityMax","equityEnabled","setEquityEnabled","offerLink","setOfferLink","loading","setLoading","copied","setCopied","totalMax","handleSubmit","response","createOffer","link","generateOfferLink","error","handleCopyLink","copyToClipboard","jsxs","jsx","formatCurrency","SignatureSlider","e","AnimatedSubmitButton"],"mappings":"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"}