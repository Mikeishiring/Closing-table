import{j as n}from"./index-KV9ASIHf.js";function h({title:e,subtitle:t,children:i,className:s="",...c}){return n.jsxs("section",{className:`primary-card ${s}`,...c,children:[(e||t)&&n.jsxs("header",{className:"primary-card__head",children:[e?n.jsx("h1",{className:"primary-card__title",children:e}):null,t?n.jsx("p",{className:"primary-card__subtitle",children:t}):null]}),n.jsx("div",{className:"primary-card__body",children:i})]})}function p(e){return n.jsx(h,{...e})}const u=(()=>{if(typeof window<"u"){const e=window.location.hostname;if(e==="localhost"||e==="127.0.0.1"||e==="0.0.0.0")return console.log("[API Client] Localhost detected, using http://localhost:3001"),"http://localhost:3001"}return console.log("[API Client] Using production API"),"https://closing-table-backend.onrender.com"})(),f=typeof window<"u"?(()=>{const e=window.location.pathname,t=e.endsWith("index.html")?e.slice(0,-10):e.endsWith("/")?e:e+"/";return`${window.location.origin}${t}`})():"",m=3e4;async function g(e,t={}){const i=`${u}${e}`;console.log("[API Client] Making request to:",i);const s=t.signal?null:new AbortController,c={headers:{"Content-Type":"application/json",...t.headers||{}},signal:t.signal||s?.signal,...t};let a;const d=new Promise((r,o)=>{a=setTimeout(()=>{s&&s.abort("Request timeout - the server took too long to respond"),o(new Error("Request timeout - the server took too long to respond. The backend may be starting up."))},m)});try{const r=fetch(i,c),o=await Promise.race([r,d]);a&&clearTimeout(a);let l;try{l=await o.json()}catch{if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return null}if(!o.ok)throw new Error(l.error||`HTTP ${o.status}: ${o.statusText}`);return l}catch(r){throw a&&clearTimeout(a),r.name==="AbortError"?new Error("Request was cancelled. The server may be starting up - please try again."):r instanceof TypeError?new Error("Network error. Please check your connection."):r}}export{f as F,h as P,p as a,g as b};
//# sourceMappingURL=client-DjLAMc_R.js.map
