{"version":3,"file":"client-BhLJ3e7R.js","sources":["../../src/components/shared/PrimaryCard.jsx","../../src/components/shared/PrimaryPanel.jsx","../../src/api/client.js"],"sourcesContent":["import React from 'react';\r\n\r\n/**\r\n * Core frosted card used across the three pages.\r\n */\r\nexport function PrimaryCard({ title, subtitle, children, className = '', ...rest }) {\r\n  return (\r\n    <section className={`primary-card ${className}`} {...rest}>\r\n      {(title || subtitle) && (\r\n        <header className=\"primary-card__head\">\r\n          {title ? <h1 className=\"primary-card__title\">{title}</h1> : null}\r\n          {subtitle ? <p className=\"primary-card__subtitle\">{subtitle}</p> : null}\r\n        </header>\r\n      )}\r\n      <div className=\"primary-card__body\">{children}</div>\r\n    </section>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { PrimaryCard } from './PrimaryCard';\r\n\r\n/**\r\n * Alias of PrimaryCard for clarity in layout composition.\r\n */\r\nexport function PrimaryPanel(props) {\r\n  return <PrimaryCard {...props} />;\r\n}\r\n\r\n","/**\r\n * API Client Module\r\n * Centralized API calls with consistent error handling\r\n */\r\n\r\nconst API_BASE = (() => {\r\n  // Highest priority: explicitly configured API base\r\n  if (import.meta.env.VITE_API_BASE) return import.meta.env.VITE_API_BASE;\r\n\r\n  // If running locally (page served from localhost), talk to local backend\r\n  if (typeof window !== 'undefined') {\r\n    const host = window.location.hostname;\r\n    const isLocalHost =\r\n      host === 'localhost' ||\r\n      host === '127.0.0.1' ||\r\n      host === '0.0.0.0';\r\n    if (isLocalHost) return 'http://localhost:3000';\r\n  }\r\n\r\n  // Default for hosted builds: use the hosted API\r\n  return 'https://closing-table-backend.onrender.com';\r\n})();\r\n\r\n// Optional frontend base for shareable links\r\nconst FRONTEND_BASE =\r\n  import.meta.env.VITE_APP_BASE_URL ||\r\n  (typeof window !== 'undefined'\r\n    ? `${window.location.origin}${window.location.pathname.split('#')[0] || '/'}`\r\n    : '');\r\n\r\n// Add timeout support\r\nconst DEFAULT_TIMEOUT = 10000; // 10 seconds\r\n\r\n/**\r\n * Generic API call wrapper with error handling and timeout\r\n */\r\nexport async function api(path, options = {}) {\r\n  const url = `${API_BASE}${path}`;\r\n  \r\n  const controller = options.signal ? null : new AbortController();\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(options.headers || {}),\r\n    },\r\n    signal: options.signal || controller?.signal,\r\n    ...options,\r\n  };\r\n\r\n  // Create timeout promise\r\n  const timeoutPromise = new Promise((_, reject) => {\r\n    const timer = setTimeout(() => {\r\n      if (controller) controller.abort();\r\n      reject(new Error('Request timeout'));\r\n    }, DEFAULT_TIMEOUT);\r\n    // Clear timer when request completes/aborts\r\n    if (config.signal) {\r\n      config.signal.addEventListener('abort', () => clearTimeout(timer), { once: true });\r\n    }\r\n  });\r\n\r\n  try {\r\n    const fetchPromise = fetch(url, config);\r\n    const res = await Promise.race([fetchPromise, timeoutPromise]);\r\n    let data;\r\n\r\n    // Try to parse JSON response\r\n    try {\r\n      data = await res.json();\r\n    } catch {\r\n      // If JSON parse fails and response is not OK, throw generic error\r\n      if (!res.ok) {\r\n        throw new Error(`HTTP ${res.status}: ${res.statusText}`);\r\n      }\r\n      return null;\r\n    }\r\n\r\n    // If response is not OK, throw with error message from server or generic\r\n    if (!res.ok) {\r\n      throw new Error(data.error || `HTTP ${res.status}: ${res.statusText}`);\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    // Network errors or fetch failures\r\n    if (error instanceof TypeError) {\r\n      throw new Error('Network error. Please check your connection.');\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport function isValidEmail(email) {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n}\r\n\r\nexport { API_BASE, FRONTEND_BASE, DEFAULT_TIMEOUT };\r\n\r\n"],"names":["PrimaryCard","title","subtitle","children","className","rest","jsxs","jsx","PrimaryPanel","props","API_BASE","host","FRONTEND_BASE","DEFAULT_TIMEOUT","api","path","options","url","controller","config","timeoutPromise","_","reject","timer","fetchPromise","res","data","error"],"mappings":"wCAKO,SAASA,EAAY,CAAE,MAAAC,EAAO,SAAAC,EAAU,SAAAC,EAAU,UAAAC,EAAY,GAAI,GAAGC,GAAQ,CAClF,cACG,UAAA,CAAQ,UAAW,gBAAgBD,CAAS,GAAK,GAAGC,EACjD,SAAA,EAAAJ,GAASC,IACTI,EAAAA,KAAC,SAAA,CAAO,UAAU,qBACf,SAAA,CAAAL,EAAQM,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAuB,WAAM,EAAQ,KAC3DL,EAAWK,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAA0B,WAAS,EAAO,IAAA,EACrE,EAEFA,EAAAA,IAAC,MAAA,CAAI,UAAU,qBAAsB,SAAAJ,CAAA,CAAS,CAAA,EAChD,CAEJ,CCXO,SAASK,EAAaC,EAAO,CAClC,OAAOF,MAACP,EAAA,CAAa,GAAGS,CAAA,CAAO,CACjC,CCHA,MAAMC,GAAY,IAAM,CAKtB,GAAI,OAAO,OAAW,IAAa,CACjC,MAAMC,EAAO,OAAO,SAAS,SAK7B,GAHEA,IAAS,aACTA,IAAS,aACTA,IAAS,UACM,MAAO,uBAC1B,CAGA,MAAO,4CACT,GAAA,EAGMC,EAEH,OAAO,OAAW,IACf,GAAG,OAAO,SAAS,MAAM,GAAG,OAAO,SAAS,SAAS,MAAM,GAAG,EAAE,CAAC,GAAK,GAAG,GACzE,GAGAC,EAAkB,IAKxB,eAAsBC,EAAIC,EAAMC,EAAU,GAAI,CAC5C,MAAMC,EAAM,GAAGP,CAAQ,GAAGK,CAAI,GAExBG,EAAaF,EAAQ,OAAS,KAAO,IAAI,gBACzCG,EAAS,CACb,QAAS,CACP,eAAgB,mBAChB,GAAIH,EAAQ,SAAW,CAAA,CAAC,EAE1B,OAAQA,EAAQ,QAAUE,GAAY,OACtC,GAAGF,CAAA,EAICI,EAAiB,IAAI,QAAQ,CAACC,EAAGC,IAAW,CAChD,MAAMC,EAAQ,WAAW,IAAM,CACzBL,KAAuB,MAAA,EAC3BI,EAAO,IAAI,MAAM,iBAAiB,CAAC,CACrC,EAAGT,CAAe,EAEdM,EAAO,QACTA,EAAO,OAAO,iBAAiB,QAAS,IAAM,aAAaI,CAAK,EAAG,CAAE,KAAM,GAAM,CAErF,CAAC,EAED,GAAI,CACF,MAAMC,EAAe,MAAMP,EAAKE,CAAM,EAChCM,EAAM,MAAM,QAAQ,KAAK,CAACD,EAAcJ,CAAc,CAAC,EAC7D,IAAIM,EAGJ,GAAI,CACFA,EAAO,MAAMD,EAAI,KAAA,CACnB,MAAQ,CAEN,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,QAAQA,EAAI,MAAM,KAAKA,EAAI,UAAU,EAAE,EAEzD,OAAO,IACT,CAGA,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMC,EAAK,OAAS,QAAQD,EAAI,MAAM,KAAKA,EAAI,UAAU,EAAE,EAGvE,OAAOC,CACT,OAASC,EAAO,CAEd,MAAIA,aAAiB,UACb,IAAI,MAAM,8CAA8C,EAE1DA,CACR,CACF"}