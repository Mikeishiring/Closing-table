{"version":3,"file":"ResultView-CPimJiVP.js","sources":["../../src/api/results.js","../../src/views/ResultView.jsx"],"sourcesContent":["import { api, FRONTEND_BASE } from './client';\n\nexport async function getResult(resultId, options = {}) {\n  return api(`/api/results/${resultId}`, options);\n}\n\nexport function generateResultLink(resultId) {\n  return `${FRONTEND_BASE}#result=${resultId}`;\n}\n\n\n","/**\n * Result View\n * Fetches and displays negotiation outcome\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { getResult } from '../api';\nimport { ResultCard } from '../components';\nimport { goHome } from '../routing';\nimport { PrimaryPanel } from '../components';\nimport { copy } from '../tokens';\n\nexport function ResultView({ resultId }) {\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchResult() {\n      try {\n        setLoading(true);\n        const data = await getResult(resultId);\n        \n        if (!data) {\n          setError(copy.error.resultNotFound);\n          return;\n        }\n        \n        if (data.status === 'invalid') {\n          setError(copy.error.invalidResult);\n          return;\n        }\n        \n        if (data.status === 'expired') {\n          setError(copy.error.expiredResult);\n          return;\n        }\n        \n        setResult(data);\n      } catch (err) {\n        setError(err.message || copy.error.resultNotFound);\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    fetchResult();\n  }, [resultId]);\n  \n  if (loading) {\n    return (\n      <PrimaryPanel className=\"space-y-6 animate-[cardIn_280ms_ease-out]\">\n        <div className=\"animate-pulse space-y-6\">\n          <div className=\"space-y-2 text-center\">\n            <div className=\"h-8 bg-slate-200 rounded w-1/3 mx-auto\" />\n            <div className=\"h-4 bg-slate-100 rounded w-2/3 mx-auto\" />\n          </div>\n          <div className=\"space-y-2\">\n            <div className=\"h-4 bg-slate-100 rounded w-1/4\" />\n            <div className=\"h-10 bg-slate-200 rounded w-full\" />\n            <div className=\"h-2 bg-slate-200 rounded-full w-full\" />\n          </div>\n          <div className=\"h-12 bg-slate-200 rounded-full w-full\" />\n        </div>\n      </PrimaryPanel>\n    );\n  }\n  \n  if (error) {\n    return (\n      <PrimaryPanel className=\"space-y-6 text-center animate-[cardIn_280ms_ease-out]\">\n        <div className=\"flex flex-col items-center space-y-3\">\n          <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-slate-50 ring-4 ring-rose-100 text-4xl text-rose-600 animate-[emojiPop_260ms_ease-out]\">\n            <span>⚠️</span>\n          </div>\n          <h2 className=\"text-2xl md:text-3xl font-semibold text-slate-900\">\n            {error === copy.error.resultNotFound ? copy.error.resultNotFoundHeadline :\n             error === copy.error.expiredResult ? copy.error.resultExpiredHeadline :\n             'Oops'}\n          </h2>\n          <p className=\"text-slate-600\">{error}</p>\n        </div>\n        <div className=\"flex flex-col gap-3\">\n          <button\n            onClick={goHome}\n            className=\"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-medium hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\n          >\n            {copy.error.goHome}\n          </button>\n        </div>\n      </PrimaryPanel>\n    );\n  }\n  \n  if (!result) {\n    return null;\n  }\n  \n  return (\n    <ResultCard\n      status={result.status}\n      finalOffer={result.final}\n      suggested={result.suggested}\n    />\n  );\n}\n\n\n"],"names":["getResult","resultId","options","api","ResultView","result","setResult","useState","loading","setLoading","error","setError","useEffect","fetchResult","data","copy","err","PrimaryPanel","jsxs","jsx","goHome","ResultCard"],"mappings":"oHAEO,eAAeA,EAAUC,EAAUC,EAAU,GAAI,CACtD,OAAOC,EAAI,gBAAgBF,CAAQ,GAAIC,CAAO,CAChD,CCQO,SAASE,EAAW,CAAE,SAAAH,GAAY,CACvC,KAAM,CAACI,EAAQC,CAAS,EAAIC,EAAAA,SAAS,IAAI,EACnC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,IAAI,EAkCvC,OAhCAK,EAAAA,UAAU,IAAM,CACd,eAAeC,GAAc,CAC3B,GAAI,CACFJ,EAAW,EAAI,EACf,MAAMK,EAAO,MAAMd,EAAUC,CAAQ,EAErC,GAAI,CAACa,EAAM,CACTH,EAASI,EAAK,MAAM,cAAc,EAClC,MACF,CAEA,GAAID,EAAK,SAAW,UAAW,CAC7BH,EAASI,EAAK,MAAM,aAAa,EACjC,MACF,CAEA,GAAID,EAAK,SAAW,UAAW,CAC7BH,EAASI,EAAK,MAAM,aAAa,EACjC,MACF,CAEAT,EAAUQ,CAAI,CAChB,OAASE,EAAK,CACZL,EAASK,EAAI,SAAWD,EAAK,MAAM,cAAc,CACnD,QAAA,CACEN,EAAW,EAAK,CAClB,CACF,CAEAI,EAAA,CACF,EAAG,CAACZ,CAAQ,CAAC,EAETO,QAECS,EAAA,CAAa,UAAU,4CACtB,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,wCAAA,CAAyC,EACxDA,EAAAA,IAAC,MAAA,CAAI,UAAU,wCAAA,CAAyC,CAAA,EAC1D,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,gCAAA,CAAiC,EAChDA,EAAAA,IAAC,MAAA,CAAI,UAAU,kCAAA,CAAmC,EAClDA,EAAAA,IAAC,MAAA,CAAI,UAAU,sCAAA,CAAuC,CAAA,EACxD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,uCAAA,CAAwC,CAAA,CAAA,CACzD,CAAA,CACF,EAIAT,EAEAQ,EAAAA,KAACD,EAAA,CAAa,UAAU,wDACtB,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,uCACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oJACb,SAAAA,MAAC,OAAA,CAAK,cAAE,CAAA,CACV,QACC,KAAA,CAAG,UAAU,oDACX,SAAAT,IAAUK,EAAK,MAAM,eAAiBA,EAAK,MAAM,uBACjDL,IAAUK,EAAK,MAAM,cAAgBA,EAAK,MAAM,sBAChD,OACH,EACAI,EAAAA,IAAC,IAAA,CAAE,UAAU,iBAAkB,SAAAT,CAAA,CAAM,CAAA,EACvC,EACAS,EAAAA,IAAC,MAAA,CAAI,UAAU,sBACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAASC,EACT,UAAU,sOAET,WAAK,MAAM,MAAA,CAAA,CACd,CACF,CAAA,EACF,EAICf,EAKHc,EAAAA,IAACE,EAAA,CACC,OAAQhB,EAAO,OACf,WAAYA,EAAO,MACnB,UAAWA,EAAO,SAAA,CAAA,EAPb,IAUX"}