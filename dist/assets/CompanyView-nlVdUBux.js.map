{"version":3,"file":"CompanyView-nlVdUBux.js","sources":["../../src/views/CompanyView.jsx"],"sourcesContent":["/**\n * Company View\n * Where companies set their maximum offer\n */\n\nimport React, { useState } from 'react';\nimport { SignatureSlider } from '../components/SignatureSlider';\nimport { AnimatedSubmitButton } from '../components/AnimatedSubmitButton';\nimport { createOffer, generateOfferLink, copyToClipboard } from '../lib/api';\nimport { formatCurrency } from '../lib/deal-math';\n\nexport function CompanyView() {\n  const [baseMax, setBaseMax] = useState(120000);\n  const [offerLink, setOfferLink] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  const totalMax = baseMax;\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      const response = await createOffer({\n        max: baseMax,\n      });\n      \n      const link = generateOfferLink(response.offerId);\n      setOfferLink(link);\n    } catch (error) {\n      alert('Error creating offer: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCopyLink = async () => {\n    const result = await copyToClipboard(offerLink);\n    if (result.success) {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  if (offerLink) {\n    return (\n      <div className=\"bg-white rounded-3xl shadow-xl p-6 md:p-8 animate-[cardIn_280ms_ease-out]\">\n        \n        {/* Hero: Big emoji + headline */}\n        <header className=\"flex flex-col items-center text-center\">\n          <div className=\"mb-4 flex h-16 w-16 md:h-18 md:w-18 items-center justify-center rounded-full bg-slate-50 ring-4 ring-emerald-100 text-4xl md:text-5xl text-emerald-600 animate-[emojiPop_260ms_ease-out]\">\n            <span>üîó</span>\n          </div>\n          \n          <h1 className=\"text-2xl md:text-3xl font-semibold text-slate-900\">\n            Offer Created\n          </h1>\n          \n          <p className=\"mt-2 text-sm md:text-base text-slate-600 max-w-sm\">\n            Share this link with your candidate. It works once and expires in 24 hours.\n          </p>\n        </header>\n\n        {/* Details: The link */}\n        <main className=\"mt-6 space-y-4\">\n          <section className=\"text-center\">\n            <p className=\"text-xs uppercase tracking-[0.18em] text-slate-500 mb-3\">\n              Shareable Link\n            </p>\n            <div className=\"rounded-2xl bg-slate-50 px-4 py-3 text-xs md:text-sm text-slate-700 break-all font-mono border border-slate-200\">\n              {offerLink}\n            </div>\n            <p className=\"mt-2 text-xs text-slate-500\">\n              Click below to copy this link to your clipboard\n            </p>\n          </section>\n        </main>\n\n        {/* Actions: Buttons */}\n        <div className=\"mt-6 flex flex-col gap-3\">\n          <button\n            onClick={handleCopyLink}\n            className=\"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-medium hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\n          >\n            {copied ? 'Copied ‚úì' : 'Copy Link'}\n          </button>\n          \n          <button\n            onClick={() => window.open(offerLink, '_blank', 'noopener')}\n            className=\"w-full rounded-full bg-slate-100 text-slate-900 py-3 text-sm font-medium hover:bg-slate-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\n          >\n            Open candidate page ‚û°Ô∏è\n          </button>\n\n          <button\n            onClick={() => {\n              setOfferLink(null);\n              setBaseMax(120000);\n            }}\n            className=\"w-full rounded-full border border-slate-200 py-3 text-sm text-slate-700 hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 transition-all active:scale-[0.98]\"\n          >\n            Create Another Offer üîÅ\n          </button>\n        </div>\n        \n        {/* Privacy hint */}\n        <div className=\"mt-4 flex items-center justify-center gap-2 text-[11px] text-slate-500\">\n          <span>üîê</span>\n          <span>Your maximum stays private until the mechanism runs</span>\n        </div>\n        \n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-3xl p-6 md:p-8 shadow-xl animate-[cardIn_280ms_ease-out]\">\n      <div className=\"inline-flex items-center justify-center px-3 py-1 mb-3 rounded-full bg-[#E6F9FA] text-xs font-medium text-[#007C80]\">\n        Company view\n      </div>\n      <h2 className=\"section-title mb-2\">Company View</h2>\n      <p className=\"section-lead mb-2\">\n        Set your maximum offer. The candidate will never see this number.\n      </p>\n\n      {/* Privacy note */}\n      <div className=\"mb-6 inline-flex items-center gap-2 text-sm text-[#555]\">\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n        </svg>\n        <span>We only show the final number, never your inputs.</span>\n      </div>\n\n      <div className=\"space-y-6 mb-8\">\n        {/* Base Salary */}\n        <div>\n          <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n            Maximum Base Salary\n          </label>\n          <div className=\"text-3xl font-bold mb-4\">\n            {formatCurrency(baseMax)}\n          </div>\n          <SignatureSlider\n            value={baseMax}\n            min={50000}\n            max={300000}\n            step={5000}\n            onChange={(e) => setBaseMax(Number(e.target.value))}\n            variant=\"company\"\n            label=\"Company maximum base\"\n          />\n        </div>\n\n        {/* Total */}\n        <div className=\"pt-4 border-t border-slate-200\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm font-medium text-slate-700\">Total Maximum</span>\n            <span className=\"text-2xl font-bold text-slate-900\">{formatCurrency(totalMax)}</span>\n          </div>\n        </div>\n      </div>\n\n      <AnimatedSubmitButton\n        onClick={handleSubmit}\n        buttonText=\"Lock it in & Get Link\"\n        disabled={loading}\n      />\n    </div>\n  );\n}\n\n"],"names":["CompanyView","baseMax","setBaseMax","useState","offerLink","setOfferLink","loading","setLoading","copied","setCopied","totalMax","handleSubmit","response","createOffer","link","generateOfferLink","error","handleCopyLink","copyToClipboard","jsxs","jsx","formatCurrency","SignatureSlider","e","AnimatedSubmitButton"],"mappings":"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"}