import{r as n,j as e,c as s,g as m,R as f}from"./index-KV9ASIHf.js";import{b as g,a as o}from"./client-DjLAMc_R.js";async function p(a,t={}){return g(`/api/results/${a}`,t)}function N({resultId:a}){const[t,c]=n.useState(null),[d,u]=n.useState(!0),[l,i]=n.useState(null);return n.useEffect(()=>{async function x(){try{u(!0);const r=await p(a);if(!r){i(s.error.resultNotFound);return}if(r.status==="invalid"){i(s.error.invalidResult);return}if(r.status==="expired"){i(s.error.expiredResult);return}c(r)}catch(r){i(r.message||s.error.resultNotFound)}finally{u(!1)}}x()},[a]),d?e.jsx(o,{className:"space-y-6 animate-[cardIn_280ms_ease-out]",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/3 mx-auto"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-2/3 mx-auto"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full w-full"})]}),e.jsx("div",{className:"h-12 bg-slate-200 rounded-full w-full"})]})}):l?e.jsxs(o,{className:"space-y-6 text-center animate-[cardIn_280ms_ease-out]",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-slate-50 ring-4 ring-rose-100 text-4xl text-rose-600 animate-[emojiPop_260ms_ease-out]",children:e.jsx("span",{children:"⚠️"})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-slate-900",children:l===s.error.resultNotFound?s.error.resultNotFoundHeadline:l===s.error.expiredResult?s.error.resultExpiredHeadline:"Oops"}),e.jsx("p",{className:"text-slate-600",children:l})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx("button",{onClick:m,className:"w-full rounded-full bg-slate-900 text-white py-3 text-sm font-medium hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 transition-all active:scale-[0.98]",children:s.error.goHome})})]}):t?e.jsx(f,{status:t.status,finalOffer:t.final,suggested:t.suggested}):null}export{N as ResultView};
//# sourceMappingURL=ResultView-CPimJiVP.js.map
